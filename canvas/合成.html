<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <canvas id="myCanvas" width="600" height="600"
      >浏览器不支持canas会显示此文本</canvas
    >

    <script>
      var myCanvas = document.querySelector("#myCanvas");

      var ctx = myCanvas.getContext("2d");

      // 目标图像
      ctx.fillStyle = "hotpink";
      ctx.fillRect(100, 100, 200, 200);

      // source-over(default)新图像会覆盖在原有图像
      //source-in 新图像与原来图像重叠的部分
      //source-out 新图像与老图像没有重叠的部分
      //source-atop 新图像仅仅显示与老图像重叠区域和老图像
      //destination-over 新图像会在老图像的下面。
      //destination-in 新老图像重叠部分的老图像被显示，其他区域全部透明
      //destination-out 老图像与新图像没有重叠的部分。 注意显示的是老图像的部分区域。
      //destination-atop 老图像仅仅仅仅显示重叠部分，新图像会显示在老图像的下面。
      //lighter 新老图像都显示，但是重叠区域的颜色做加处理
      //darken 保留重叠部分最黑的像素。(每个颜色位进行比较，得到最小的)
      //lighten 保证重叠部分最量的像素。(每个颜色位进行比较，得到最大的)
      // xor 重叠部分会变成透明
      // copy 只有新图像会被保留，其余的全部被清除(边透明)
      ctx.globalCompositeOperation = "xor";

      // 源图像
      ctx.fillStyle = "deepskyblue";
      ctx.fillRect(200, 200, 200, 200);
    </script>
  </body>
</html>
